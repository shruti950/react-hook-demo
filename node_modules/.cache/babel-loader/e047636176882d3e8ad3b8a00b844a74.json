{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apex\\\\project-demo-hook\\\\src\\\\components\\\\UserContainerForm.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, Link, Redirect } from \"react-router-dom\";\nimport { fetchUsers, insertUsers } from \"../redux\";\nimport HeaderUser from \"./HeaderUser\"; // import UserContainer from \"./UserContainer\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserContainerForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeName = e => {\n      const name = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          name: name\n        }\n      }));\n    };\n\n    this.onChangeAge = e => {\n      const age = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          age: age\n        }\n      }));\n    };\n\n    this.onChangeEmail = e => {\n      const email = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          email: email\n        }\n      }));\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      this.props.insertUsers(this.state.user);\n    };\n\n    this.addUser = async e => {\n      const {\n        users,\n        user\n      } = this.state;\n      const {\n        name,\n        age,\n        email\n      } = this.state.user;\n      const {\n        userData,\n        history\n      } = this.props;\n\n      if (!name || !age || !email) {\n        alert(\"Please add all the details\");\n      } else {\n        fetchUsers();\n        this.setState({\n          users: userData\n        });\n        const existEmail = userData.filter(existingEmail => {\n          if (email === existingEmail.email) {\n            return true;\n          }\n        });\n        const map = existEmail.map(item => {\n          if (item.email === email) {\n            return true;\n          } else {\n            return false;\n          }\n        });\n\n        if (map.includes(true)) {\n          alert(\"Email already Exists\");\n        } else {\n          history.push(\"/home\");\n          return await insertUsers(user);\n          history.push(\"/home\");\n        } //\n\n      }\n    };\n\n    this.state = {\n      user: {\n        name: \"\",\n        age: \"\",\n        email: \"\"\n      },\n      users: []\n    };\n  } // changeHandler = (e) => {\n  //   this.setState({ [e.target.name]: e.target.value });\n  // };\n\n\n  render() {\n    const {\n      name,\n      age,\n      email\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: [/*#__PURE__*/_jsxDEV(HeaderUser, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            value: name,\n            className: \"form-control\",\n            onChange: this.onChangeName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left \",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bolder\",\n            children: \"Age:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"age\",\n            value: age,\n            className: \"form-control\",\n            onChange: this.onChangeAge\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left \",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"font-weight-bolder\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            value: email,\n            className: \"form-control\",\n            onChange: this.onChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group text-left\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: {\n              pathname: `/home`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              type: \"submit\",\n              onClick: () => this.addUser(),\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userData: state.users\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUsers,\n  insertUsers\n})(UserContainerForm);","map":{"version":3,"sources":["C:/Users/apex/project-demo-hook/src/components/UserContainerForm.js"],"names":["React","Component","useState","useEffect","connect","useHistory","Link","Redirect","fetchUsers","insertUsers","HeaderUser","UserContainerForm","constructor","props","onChangeName","e","name","target","value","setState","prevState","user","onChangeAge","age","onChangeEmail","email","submitHandler","preventDefault","state","addUser","users","userData","history","alert","existEmail","filter","existingEmail","map","item","includes","push","render","pathname","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory, Link, Redirect } from \"react-router-dom\";\r\nimport { fetchUsers, insertUsers } from \"../redux\";\r\nimport HeaderUser from \"./HeaderUser\";\r\n// import UserContainer from \"./UserContainer\";\r\nclass UserContainerForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: {\r\n        name: \"\",\r\n        age: \"\",\r\n        email: \"\",\r\n      },\r\n      users: [],\r\n    };\r\n  }\r\n  // changeHandler = (e) => {\r\n  //   this.setState({ [e.target.name]: e.target.value });\r\n  // };\r\n  onChangeName = (e) => {\r\n    const name = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, name: name },\r\n    }));\r\n  };\r\n  onChangeAge = (e) => {\r\n    const age = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, age: age },\r\n    }));\r\n  };\r\n  onChangeEmail = (e) => {\r\n    const email = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, email: email },\r\n    }));\r\n  };\r\n  submitHandler = (e) => {\r\n    e.preventDefault();\r\n    this.props.insertUsers(this.state.user);\r\n  };\r\n  addUser = async (e) => {\r\n    const { users, user } = this.state;\r\n    const { name, age, email } = this.state.user;\r\n    const { userData, history } = this.props;\r\n\r\n    if (!name || !age || !email) {\r\n      alert(\"Please add all the details\");\r\n    } else {\r\n      fetchUsers();\r\n\r\n      this.setState({ users: userData });\r\n      const existEmail = userData.filter((existingEmail) => {\r\n        if (email === existingEmail.email) {\r\n          return true;\r\n        }\r\n      });\r\n      const map = existEmail.map((item) => {\r\n        if (item.email === email) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n      if (map.includes(true)) {\r\n        alert(\"Email already Exists\");\r\n      } else {\r\n        history.push(\"/home\");\r\n        return await insertUsers(user);\r\n\r\n        history.push(\"/home\");\r\n      }\r\n      //\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { name, age, email } = this.state;\r\n    return (\r\n      <div className=\"container \">\r\n        <HeaderUser />\r\n        <form onSubmit={this.submitHandler}>\r\n          <div className=\"form-group text-left\">\r\n            <label>Name:</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name}\r\n              className=\"form-control\"\r\n              onChange={this.onChangeName}\r\n            />\r\n          </div>\r\n          <div className=\"form-group text-left \">\r\n            <label className=\"font-weight-bolder\">Age:</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"age\"\r\n              value={age}\r\n              className=\"form-control\"\r\n              onChange={this.onChangeAge}\r\n            />\r\n          </div>\r\n          <div className=\"form-group text-left \">\r\n            <label className=\"font-weight-bolder\">Email:</label>\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              className=\"form-control\"\r\n              onChange={this.onChangeEmail}\r\n            />\r\n          </div>\r\n          <div className=\"form-group text-left\">\r\n            <Link to={{ pathname: `/home` }}>\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                type=\"submit\"\r\n                onClick={() => this.addUser()}\r\n              >\r\n                Submit\r\n              </button>\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userData: state.users,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchUsers, insertUsers })(\r\n  UserContainerForm\r\n);\r\n"]},"metadata":{},"sourceType":"module"}