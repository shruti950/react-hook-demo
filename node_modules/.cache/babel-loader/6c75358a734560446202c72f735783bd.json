{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apex\\\\project-demo\\\\src\\\\components\\\\UserContainerForm.js\";\n// import React, { useState, useEffect } from \"react\";\n// import { connect } from \"react-redux\";\n// import { useHistory, Link } from \"react-router-dom\";\n// import { fetchUsers, insertUsers } from \"../redux\";\n// import HeaderUser from \"./HeaderUser\";\n// // import UserContainer from \"./UserContainer\";\n// const initialState = {\n//   name: \"\",\n//   age: \"\",\n//   email: \"\",\n// };\n// function UserContainerForm({ userData, fetchUsers }) {\n//   const [user, setUser] = useState(initialState);\n//   const [users, setUsers] = useState([]);\n//   const { name, age, email } = user;\n//   // const { id } = useParams();\n//   let history = useHistory();\n//   useEffect(() => {\n//     fetchUsers();\n//     setUsers(userData);\n//     // console.log(\"users 33 userData\", users, userData);\n//   }, []);\n//   const onValueChange = (e) => {\n//     setUser({ ...user, [e.target.name]: e.target.value });\n//     console.log(\"user==>\", user.email);\n//   };\n//   const addUser = async (e) => {\n//     if (!name || !age || !email) {\n//       alert(\"Please add all the details\");\n//     } else {\n//       fetchUsers();\n//       console.log(\n//         \"file: UserContainerForm.js ~ line 45 ~ addUser ~ userData\",\n//         userData\n//       );\n//       setUsers(userData);\n//       console.log(\"users in add\", users);\n//       const existEmail = users.filter((existingEmail) => {\n//         // console.log(email == existingEmail.email, typeof existingEmail.email);\n//         if (email === existingEmail.email) {\n//           return true;\n//         }\n//       });\n//       const map = existEmail.map((item) => {\n//         if (item.email === email) {\n//           return true;\n//         } else {\n//           return false;\n//         }\n//       });\n//       console.log(\"map function \", map);\n//       if (map.includes(true)) {\n//         alert(\"Email already Exists\");\n//       } else {\n//         await insertUsers(user);\n//         history.push(\"/home\");\n//         history.push(\"/home\");\n//       }\n//       //\n//     }\n//   };\n//   return (\n//     <div className=\"container \">\n//       <HeaderUser />\n//       <form>\n//         <div className=\"form-group text-left\">\n//           <label>Name:</label>\n//           <input\n//             type=\"text\"\n//             name=\"name\"\n//             value={name}\n//             className=\"form-control\"\n//             onChange={onValueChange}\n//           />\n//         </div>\n//         <div className=\"form-group text-left \">\n//           <label className=\"font-weight-bolder\">Age:</label>\n//           <input\n//             type=\"text\"\n//             name=\"age\"\n//             value={age}\n//             className=\"form-control\"\n//             onChange={onValueChange}\n//           />\n//         </div>\n//         <div className=\"form-group text-left \">\n//           <label className=\"font-weight-bolder\">Email:</label>\n//           <input\n//             type=\"email\"\n//             name=\"email\"\n//             value={email}\n//             className=\"form-control\"\n//             onChange={onValueChange}\n//           />\n//         </div>\n//         <div className=\"form-group text-left\">\n//           <Link to={{ pathname: `/home` }}>\n//             <button\n//               className=\"btn btn-primary\"\n//               type=\"submit\"\n//               onClick={() => addUser()}\n//             >\n//               Submit\n//             </button>\n//           </Link>\n//         </div>\n//       </form>\n//     </div>\n//   );\n// }\n// const mapStateToProps = (state) => {\n//   console.log(\"state===>\", state);\n//   return {\n//     userData: state.users,\n//   };\n// };\n// export default connect(mapStateToProps, { fetchUsers, insertUsers })(\n//   UserContainerForm\n// );\nimport React, { Component, useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useHistory, Link, Redirect } from \"react-router-dom\";\nimport { fetchUsers, insertUsers } from \"../redux\";\nimport HeaderUser from \"./HeaderUser\"; // import UserContainer from \"./UserContainer\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserContainerForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeName = e => {\n      const name = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          name: name\n        }\n      }));\n      console.log(\"user==>\", this.state.user);\n    };\n\n    this.onChangeAge = e => {\n      const age = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          age: age\n        }\n      }));\n      console.log(\"user==>\", this.state.user);\n    };\n\n    this.onChangeEmail = e => {\n      const email = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          email: email\n        }\n      }));\n      console.log(\"user==>\", this.state.user);\n\n      submitHandler = e => {\n        e.preventDefault();\n        console.log(this.state.user);\n        this.props.insertUsers(this.state.user);\n      };\n\n      addUser = async e => {\n        const {\n          users\n        } = this.state;\n        const {\n          name,\n          age,\n          email\n        } = this.state.user;\n\n        if (!name || !age || !email) {\n          alert(\"Please add all the details\");\n        } else {\n          fetchUsers();\n          console.log(\"file: UserContainerForm.js ~ line 45 ~ addUser ~ userData\", userData);\n          setUsers(userData);\n          console.log(\"users in add\", users);\n          const existEmail = users.filter(existingEmail => {\n            // console.log(email == existingEmail.email, typeof existingEmail.email);\n            if (email === existingEmail.email) {\n              return true;\n            }\n          });\n          const map = existEmail.map(item => {\n            if (item.email === email) {\n              return true;\n            } else {\n              return false;\n            }\n          });\n          console.log(\"map function \", map);\n\n          if (map.includes(true)) {\n            alert(\"Email already Exists\");\n          } else {\n            await insertUsers(user);\n            history.push(\"/home\");\n            history.push(\"/home\");\n          } //\n\n        }\n      };\n\n      render();\n      {\n        const {\n          name,\n          age,\n          email\n        } = this.state;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container \",\n          children: [/*#__PURE__*/_jsxDEV(HeaderUser, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.submitHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group text-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"name\",\n                value: name,\n                className: \"form-control\",\n                onChange: this.onChangeName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group text-left \",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-weight-bolder\",\n                children: \"Age:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"age\",\n                value: age,\n                className: \"form-control\",\n                onChange: this.onChangeAge\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group text-left \",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-weight-bolder\",\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                value: email,\n                className: \"form-control\",\n                onChange: this.onChangeEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group text-left\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: {\n                  pathname: `/home`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary\",\n                  type: \"submit\",\n                  onClick: this.addUser(),\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    this.state = {\n      user: {\n        name: \"\",\n        age: \"\",\n        email: \"\"\n      },\n      users: []\n    };\n  } // changeHandler = (e) => {\n  //   this.setState({ [e.target.name]: e.target.value });\n  // };\n\n\n}\n\nconst mapStateToProps = state => {\n  console.log(\"state===>\", state);\n  return {\n    userData: state.users\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUsers,\n  insertUsers\n})(UserContainerForm);","map":{"version":3,"sources":["C:/Users/apex/project-demo/src/components/UserContainerForm.js"],"names":["React","Component","useState","useEffect","connect","useHistory","Link","Redirect","fetchUsers","insertUsers","HeaderUser","UserContainerForm","constructor","props","onChangeName","e","name","target","value","setState","prevState","user","console","log","state","onChangeAge","age","onChangeEmail","email","submitHandler","preventDefault","addUser","users","alert","userData","setUsers","existEmail","filter","existingEmail","map","item","includes","history","push","render","pathname","mapStateToProps"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,EAAqBC,IAArB,EAA2BC,QAA3B,QAA2C,kBAA3C;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,UAAxC;AACA,OAAOC,UAAP,MAAuB,cAAvB,C,CACA;;;;AACA,MAAMC,iBAAN,SAAgCV,SAAhC,CAA0C;AACxCW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAcnBC,YAdmB,GAcHC,CAAD,IAAO;AACpB,YAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAtB;AACA,WAAKC,QAAL,CAAeC,SAAD,KAAgB;AAC5BC,QAAAA,IAAI,EAAE,EAAE,GAAGD,SAAS,CAACC,IAAf;AAAqBL,UAAAA,IAAI,EAAEA;AAA3B;AADsB,OAAhB,CAAd;AAGAM,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKC,KAAL,CAAWH,IAAlC;AACD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","sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { connect } from \"react-redux\";\r\n// import { useHistory, Link } from \"react-router-dom\";\r\n// import { fetchUsers, insertUsers } from \"../redux\";\r\n// import HeaderUser from \"./HeaderUser\";\r\n// // import UserContainer from \"./UserContainer\";\r\n// const initialState = {\r\n//   name: \"\",\r\n//   age: \"\",\r\n//   email: \"\",\r\n// };\r\n// function UserContainerForm({ userData, fetchUsers }) {\r\n//   const [user, setUser] = useState(initialState);\r\n//   const [users, setUsers] = useState([]);\r\n//   const { name, age, email } = user;\r\n//   // const { id } = useParams();\r\n//   let history = useHistory();\r\n//   useEffect(() => {\r\n//     fetchUsers();\r\n//     setUsers(userData);\r\n//     // console.log(\"users 33 userData\", users, userData);\r\n//   }, []);\r\n//   const onValueChange = (e) => {\r\n//     setUser({ ...user, [e.target.name]: e.target.value });\r\n//     console.log(\"user==>\", user.email);\r\n//   };\r\n\r\n//   const addUser = async (e) => {\r\n//     if (!name || !age || !email) {\r\n//       alert(\"Please add all the details\");\r\n//     } else {\r\n//       fetchUsers();\r\n//       console.log(\r\n//         \"file: UserContainerForm.js ~ line 45 ~ addUser ~ userData\",\r\n//         userData\r\n//       );\r\n//       setUsers(userData);\r\n//       console.log(\"users in add\", users);\r\n//       const existEmail = users.filter((existingEmail) => {\r\n//         // console.log(email == existingEmail.email, typeof existingEmail.email);\r\n//         if (email === existingEmail.email) {\r\n//           return true;\r\n//         }\r\n//       });\r\n//       const map = existEmail.map((item) => {\r\n//         if (item.email === email) {\r\n//           return true;\r\n//         } else {\r\n//           return false;\r\n//         }\r\n//       });\r\n//       console.log(\"map function \", map);\r\n//       if (map.includes(true)) {\r\n//         alert(\"Email already Exists\");\r\n//       } else {\r\n//         await insertUsers(user);\r\n//         history.push(\"/home\");\r\n//         history.push(\"/home\");\r\n//       }\r\n//       //\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"container \">\r\n//       <HeaderUser />\r\n//       <form>\r\n//         <div className=\"form-group text-left\">\r\n//           <label>Name:</label>\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"name\"\r\n//             value={name}\r\n//             className=\"form-control\"\r\n//             onChange={onValueChange}\r\n//           />\r\n//         </div>\r\n//         <div className=\"form-group text-left \">\r\n//           <label className=\"font-weight-bolder\">Age:</label>\r\n//           <input\r\n//             type=\"text\"\r\n//             name=\"age\"\r\n//             value={age}\r\n//             className=\"form-control\"\r\n//             onChange={onValueChange}\r\n//           />\r\n//         </div>\r\n//         <div className=\"form-group text-left \">\r\n//           <label className=\"font-weight-bolder\">Email:</label>\r\n//           <input\r\n//             type=\"email\"\r\n//             name=\"email\"\r\n//             value={email}\r\n//             className=\"form-control\"\r\n//             onChange={onValueChange}\r\n//           />\r\n//         </div>\r\n//         <div className=\"form-group text-left\">\r\n//           <Link to={{ pathname: `/home` }}>\r\n//             <button\r\n//               className=\"btn btn-primary\"\r\n//               type=\"submit\"\r\n//               onClick={() => addUser()}\r\n//             >\r\n//               Submit\r\n//             </button>\r\n//           </Link>\r\n//         </div>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// }\r\n// const mapStateToProps = (state) => {\r\n//   console.log(\"state===>\", state);\r\n//   return {\r\n//     userData: state.users,\r\n//   };\r\n// };\r\n\r\n// export default connect(mapStateToProps, { fetchUsers, insertUsers })(\r\n//   UserContainerForm\r\n// );\r\nimport React, { Component, useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory, Link, Redirect } from \"react-router-dom\";\r\nimport { fetchUsers, insertUsers } from \"../redux\";\r\nimport HeaderUser from \"./HeaderUser\";\r\n// import UserContainer from \"./UserContainer\";\r\nclass UserContainerForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {\r\n        name: \"\",\r\n        age: \"\",\r\n        email: \"\",\r\n      },\r\n      users: [],\r\n    };\r\n  }\r\n  // changeHandler = (e) => {\r\n  //   this.setState({ [e.target.name]: e.target.value });\r\n  // };\r\n  onChangeName = (e) => {\r\n    const name = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, name: name },\r\n    }));\r\n    console.log(\"user==>\", this.state.user);\r\n  };\r\n  onChangeAge = (e) => {\r\n    const age = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, age: age },\r\n    }));\r\n    console.log(\"user==>\", this.state.user);\r\n  };\r\n  onChangeEmail = (e) => {\r\n    const email = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, email: email },\r\n    }));\r\n    console.log(\"user==>\", this.state.user);\r\n    submitHandler = (e) => {\r\n      e.preventDefault();\r\n      console.log(this.state.user);\r\n      this.props.insertUsers(this.state.user);\r\n    };\r\n    addUser = async (e) => {\r\n      const { users } = this.state;\r\n      const { name, age, email } = this.state.user;\r\n      if (!name || !age || !email) {\r\n        alert(\"Please add all the details\");\r\n      } else {\r\n        fetchUsers();\r\n        console.log(\r\n          \"file: UserContainerForm.js ~ line 45 ~ addUser ~ userData\",\r\n          userData\r\n        );\r\n        setUsers(userData);\r\n        console.log(\"users in add\", users);\r\n        const existEmail = users.filter((existingEmail) => {\r\n          // console.log(email == existingEmail.email, typeof existingEmail.email);\r\n          if (email === existingEmail.email) {\r\n            return true;\r\n          }\r\n        });\r\n        const map = existEmail.map((item) => {\r\n          if (item.email === email) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        });\r\n        console.log(\"map function \", map);\r\n        if (map.includes(true)) {\r\n          alert(\"Email already Exists\");\r\n        } else {\r\n          await insertUsers(user);\r\n          history.push(\"/home\");\r\n          history.push(\"/home\");\r\n        }\r\n        //\r\n      }\r\n    };\r\n\r\n    render();\r\n    {\r\n      const { name, age, email } = this.state;\r\n      return (\r\n        <div className=\"container \">\r\n          <HeaderUser />\r\n          <form onSubmit={this.submitHandler}>\r\n            <div className=\"form-group text-left\">\r\n              <label>Name:</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                className=\"form-control\"\r\n                onChange={this.onChangeName}\r\n              />\r\n            </div>\r\n            <div className=\"form-group text-left \">\r\n              <label className=\"font-weight-bolder\">Age:</label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"age\"\r\n                value={age}\r\n                className=\"form-control\"\r\n                onChange={this.onChangeAge}\r\n              />\r\n            </div>\r\n            <div className=\"form-group text-left \">\r\n              <label className=\"font-weight-bolder\">Email:</label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={email}\r\n                className=\"form-control\"\r\n                onChange={this.onChangeEmail}\r\n              />\r\n            </div>\r\n            <div className=\"form-group text-left\">\r\n              <Link to={{ pathname: `/home` }}>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  type=\"submit\"\r\n                  onClick={this.addUser()}\r\n                >\r\n                  Submit\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n}\r\nconst mapStateToProps = (state) => {\r\n  console.log(\"state===>\", state);\r\n  return {\r\n    userData: state.users,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchUsers, insertUsers })(\r\n  UserContainerForm\r\n);\r\n"]},"metadata":{},"sourceType":"module"}