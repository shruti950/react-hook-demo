{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\apex\\\\project-demo\\\\src\\\\components\\\\UserContainerUpdate.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { BrowserRouter as Router, Link, Redirect } from \"react-router-dom\";\nimport { fetchUser, updateUsers } from \"../redux\"; // import React from 'react'\n// import { useParams, useHistory, withRouter } from \"react-router-dom\";\n\nimport HeaderUser from \"./HeaderUser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserContainerUpdate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeName = e => {\n      const name = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          name: name\n        }\n      }));\n      console.log(\"user==>\", this.state.user);\n    };\n\n    this.onChangeAge = e => {\n      const age = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          age: age\n        }\n      }));\n      console.log(\"user==>\", this.state.user);\n    };\n\n    this.onChangeEmail = e => {\n      const email = e.target.value;\n      this.setState(prevState => ({\n        user: { ...prevState.user,\n          email: email\n        }\n      }));\n      console.log(\"user==>\", this.state.user);\n    };\n\n    this.editUserDetails = async e => {\n      // e.preventDefault();\n      const {\n        user,\n        id,\n        users\n      } = this.state;\n      const {\n        updateUsers,\n        userData,\n        history\n      } = this.props;\n      console.log(\"in else part\", user);\n      console.log(\"users\", users);\n\n      if (!user.name || !user.age || !user.email) {\n        if (!user.name) {\n          user.name = userData[0].name;\n          console.log(\"user name\", user.name);\n        }\n\n        if (!user.age) {\n          user.age = userData[0].age;\n          console.log(\"user age\", user);\n        }\n\n        if (!user.email) {\n          user.email = userData[0].email;\n          console.log(\"user in if \", user);\n          return await updateUsers(id, user);\n          history.push(\"/home\");\n        }\n      } else {\n        console.log(\"in else part\", user);\n        return await updateUsers(id, user);\n        history.push(\"/home\");\n      }\n    };\n\n    this.state = {\n      user: {\n        name: \"\",\n        age: \"\",\n        email: \"\"\n      },\n      users: [],\n      id: \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"loading data in did\", this.props.loadingData);\n\n    if (this.props.loadingData === false) {\n      const id = this.props.match.params.id;\n      this.props.fetchUser(id);\n      console.log(\"userData in component did mount\", this.props.match.params.id, this.props.userData // this.props.id\n      );\n      this.setState({\n        users: this.props.userData,\n        id: id\n      });\n      console.log(\"users in component did mount\", this.state.users, // this.state.id,\n      this.props);\n      console.log(\"userData in component did mount id\", this.props.match.params.id);\n    }\n  }\n\n  componentWillMount() {\n    if (this.props.loadingData === false) {\n      console.log(\" true for loading data\");\n    } else {\n      console.log(\"false\");\n    }\n\n    console.log(\"loading data in will\", this.props.loadingData, this.props.loadingData === false);\n\n    if (this.props.loadingData === false) {\n      const id = this.props.match.params.id; // this.setState({ id: id });\n\n      this.props.fetchUser(id);\n      console.log(\"userData in component will mount\", this.props.match.params.id, this.props.userData, // this.props.id,\n      this.props);\n      console.log(\"userData in component will mount id\", this.props.match.params.id);\n      this.setState({\n        users: this.props.userData,\n        id: id\n      });\n      console.log(\"users in component will mount\", this.state.id, this.state.users); // this.getData();\n    }\n  }\n\n  render() {\n    let {\n      userData,\n      updateUsers\n    } = this.props;\n    let id = this.props.match.params.id;\n    const {\n      user,\n      users\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(HeaderUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), userData.map(getuser => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"name\",\n                  className: \"form-control\",\n                  defaultValue: getuser.name // value={user.name}\n                  ,\n                  onChange: this.onChangeName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Age:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"age\",\n                  className: \"form-control\",\n                  defaultValue: getuser.age // value={user.age}\n                  ,\n                  onChange: this.onChangeAge\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group text-left\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  name: \"email\",\n                  className: \"form-control\",\n                  defaultValue: getuser.email,\n                  onChange: this.onChangeEmail\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group text-left\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary\",\n                  onClick: () => this.editUserDetails(),\n                  type: \"submit\",\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)\n          }, getuser._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(\"state\", state);\n  return {\n    userData: state.users,\n    loadingData: state.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUser: id => dispatch(fetchUser(id)),\n    updateUsers: (id, user) => dispatch(updateUsers(id, user))\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchUser,\n  updateUsers\n})(UserContainerUpdate); // import React, { Component, useState, useEffect } from \"react\";\n// import { connect } from \"react-redux\";\n// import { fetchUser, updateUsers } from \"../redux\";\n// // import React from 'react'\n// import { useParams, useHistory, withRouter } from \"react-router-dom\";\n// import HeaderUser from \"./HeaderUser\";\n// // const location = useLocation();\n// const initialState = {\n//   name: \"\",\n//   age: \"\",\n//   email: \"\",\n// };\n// function UserContainerUpdate({ userData, fetchUser }, props) {\n//   const [user, setUser] = useState(initialState);\n//   const [users, setUsers] = useState([]);\n//   const { name, age, email } = user;\n//   const { id } = useParams();\n//   let history = useHistory();\n//   console.log(\n//     \"params DAta\",\n//     useParams(),\n//     userData,\n//     userData.name,\n//     userData.age,\n//     userData.email\n//   );\n//   useEffect(() => {\n//     fetchUser(id);\n//     // setUsers(userData);\n//     // console.log(\"user in useeffect\", users);\n//   }, []);\n//   console.log(\"params DAta\", useParams(), users, userData.age, userData.email);\n//   const onValueChange = (e) => {\n//     setUser({ ...user, [e.target.name]: e.target.value });\n//     console.log(\"user==>\", user.name, user.age, user.email);\n//   };\n//   console.log(\"out side update state\", id, name, age, email);\n//   console.log(\"user======>\", userData[0].name, users, user);\n//   const editUserDetails = (e) => {\n//     console.log(\"in else part\", user);\n//     console.log(\"users\", users);\n//     if (!user.name || !user.age || !user.email) {\n//       if (!user.name) {\n//         // const uname = users.name;\n//         user.name = userData[0].name;\n//         console.log(\"user name\", user.name);\n//       }\n//       if (!user.age) {\n//         // age = userData.map((user) => user.age);\n//         user.age = userData[0].age;\n//         console.log(\"user age\", user);\n//       }\n//       if (!email) {\n//         // email = userData.map((user) => user.email);\n//         user.email = userData[0].email;\n//         console.log(\"user in if \", user);\n//         updateUsers(id, user);\n//         history.push(\"/home\");\n//       }\n//     } else {\n//       console.log(\"in else part\", user);\n//       updateUsers(id, user);\n//       history.push(\"/home\");\n//     }\n//   };\n//   return (\n//     <div className=\"container \">\n//       <HeaderUser />\n//       {userData.map((getuser) => {\n//         return (\n//           <div key={getuser._id}>\n//             <form onSubmit={() => editUserDetails()}>\n//               <div className=\"form-group text-left\">\n//                 <label>Name:</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"name\"\n//                   className=\"form-control\"\n//                   defaultValue={getuser.name}\n//                   // value={user.name}\n//                   onChange={onValueChange}\n//                 />\n//               </div>\n//               <div className=\"form-group text-left\">\n//                 <label>Age:</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"age\"\n//                   className=\"form-control\"\n//                   defaultValue={getuser.age}\n//                   // value={user.age}\n//                   onChange={onValueChange}\n//                 />\n//               </div>\n//               <div className=\"form-group text-left\">\n//                 <label>Email:</label>\n//                 <input\n//                   type=\"email\"\n//                   name=\"email\"\n//                   className=\"form-control\"\n//                   defaultValue={getuser.email}\n//                   onChange={onValueChange}\n//                 />\n//               </div>\n//               <div className=\"form-group text-left\">\n//                 <button\n//                   className=\"btn btn-primary\"\n//                   // onClick={() => editUserDetails()}\n//                   type=\"submit\"\n//                 >\n//                   Update\n//                 </button>\n//               </div>\n//             </form>\n//           </div>\n//         );\n//       })}\n//     </div>\n//   );\n// }\n// const mapStateToProps = (state) => {\n//   console.log(\"state\", state);\n//   return {\n//     userData: state.users,\n//   };\n// };\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     fetchUser: (id) => dispatch(fetchUser(id)),\n//     updateUsers: (id, user) => dispatch(updateUsers(id, user)),\n//   };\n// };\n// export default connect(\n//   (state) => ({ userData: state.users, loadingData: state.loading }),\n//   mapDispatchToProps\n// )(UserContainerUpdate);","map":{"version":3,"sources":["C:/Users/apex/project-demo/src/components/UserContainerUpdate.js"],"names":["React","Component","connect","BrowserRouter","Router","Link","Redirect","fetchUser","updateUsers","HeaderUser","UserContainerUpdate","constructor","props","onChangeName","e","name","target","value","setState","prevState","user","console","log","state","onChangeAge","age","onChangeEmail","email","editUserDetails","id","users","userData","history","push","componentDidMount","loadingData","match","params","componentWillMount","render","map","getuser","_id","mapStateToProps","loading","mapDispatchToProps","dispatch"],"mappings":"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AAFd,GAAP;AAID,CAND;;AAOA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLvC,IAAAA,SAAS,EAAGsB,EAAD,IAAQiB,QAAQ,CAACvC,SAAS,CAACsB,EAAD,CAAV,CADtB;AAELrB,IAAAA,WAAW,EAAE,CAACqB,EAAD,EAAKT,IAAL,KAAc0B,QAAQ,CAACtC,WAAW,CAACqB,EAAD,EAAKT,IAAL,CAAZ;AAF9B,GAAP;AAID,CALD;;AAMA,eAAelB,OAAO,CAACyC,eAAD,EAAkB;AAAEpC,EAAAA,SAAF;AAAaC,EAAAA;AAAb,CAAlB,CAAP,CACbE,mBADa,CAAf,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter as Router, Link, Redirect } from \"react-router-dom\";\r\nimport { fetchUser, updateUsers } from \"../redux\";\r\n// import React from 'react'\r\n// import { useParams, useHistory, withRouter } from \"react-router-dom\";\r\nimport HeaderUser from \"./HeaderUser\";\r\n\r\nclass UserContainerUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {\r\n        name: \"\",\r\n        age: \"\",\r\n        email: \"\",\r\n      },\r\n      users: [],\r\n      id: \"\",\r\n    };\r\n  }\r\n  onChangeName = (e) => {\r\n    const name = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, name: name },\r\n    }));\r\n    console.log(\"user==>\", this.state.user);\r\n  };\r\n  onChangeAge = (e) => {\r\n    const age = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, age: age },\r\n    }));\r\n    console.log(\"user==>\", this.state.user);\r\n  };\r\n  onChangeEmail = (e) => {\r\n    const email = e.target.value;\r\n    this.setState((prevState) => ({\r\n      user: { ...prevState.user, email: email },\r\n    }));\r\n    console.log(\"user==>\", this.state.user);\r\n  };\r\n  componentDidMount() {\r\n    console.log(\"loading data in did\", this.props.loadingData);\r\n\r\n    if (this.props.loadingData === false) {\r\n      const id = this.props.match.params.id;\r\n      this.props.fetchUser(id);\r\n      console.log(\r\n        \"userData in component did mount\",\r\n        this.props.match.params.id,\r\n        this.props.userData\r\n        // this.props.id\r\n      );\r\n      this.setState({ users: this.props.userData, id: id });\r\n      console.log(\r\n        \"users in component did mount\",\r\n        this.state.users,\r\n        // this.state.id,\r\n        this.props\r\n      );\r\n      console.log(\r\n        \"userData in component did mount id\",\r\n        this.props.match.params.id\r\n      );\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    if (this.props.loadingData === false) {\r\n      console.log(\" true for loading data\");\r\n    } else {\r\n      console.log(\"false\");\r\n    }\r\n    console.log(\r\n      \"loading data in will\",\r\n      this.props.loadingData,\r\n      this.props.loadingData === false\r\n    );\r\n    if (this.props.loadingData === false) {\r\n      const id = this.props.match.params.id;\r\n      // this.setState({ id: id });\r\n      this.props.fetchUser(id);\r\n      console.log(\r\n        \"userData in component will mount\",\r\n        this.props.match.params.id,\r\n        this.props.userData,\r\n        // this.props.id,\r\n        this.props\r\n      );\r\n      console.log(\r\n        \"userData in component will mount id\",\r\n        this.props.match.params.id\r\n      );\r\n      this.setState({ users: this.props.userData, id: id });\r\n      console.log(\r\n        \"users in component will mount\",\r\n        this.state.id,\r\n        this.state.users\r\n      );\r\n      // this.getData();\r\n    }\r\n  }\r\n  editUserDetails = async (e) => {\r\n    // e.preventDefault();\r\n    const { user, id, users } = this.state;\r\n    const { updateUsers, userData, history } = this.props;\r\n    console.log(\"in else part\", user);\r\n    console.log(\"users\", users);\r\n    if (!user.name || !user.age || !user.email) {\r\n      if (!user.name) {\r\n        user.name = userData[0].name;\r\n        console.log(\"user name\", user.name);\r\n      }\r\n      if (!user.age) {\r\n        user.age = userData[0].age;\r\n        console.log(\"user age\", user);\r\n      }\r\n      if (!user.email) {\r\n        user.email = userData[0].email;\r\n        console.log(\"user in if \", user);\r\n        return await updateUsers(id, user);\r\n        history.push(\"/home\");\r\n      }\r\n    } else {\r\n      console.log(\"in else part\", user);\r\n      return await updateUsers(id, user);\r\n      history.push(\"/home\");\r\n    }\r\n  };\r\n  render() {\r\n    let { userData, updateUsers } = this.props;\r\n    let id = this.props.match.params.id;\r\n    const { user, users } = this.state;\r\n    return (\r\n      <div className=\"container \">\r\n        <Router>\r\n          <HeaderUser />\r\n          {userData.map((getuser) => {\r\n            return (\r\n              <div key={getuser._id}>\r\n                <form>\r\n                  <div className=\"form-group text-left\">\r\n                    <label>Name:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      className=\"form-control\"\r\n                      defaultValue={getuser.name}\r\n                      // value={user.name}\r\n                      onChange={this.onChangeName}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group text-left\">\r\n                    <label>Age:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"age\"\r\n                      className=\"form-control\"\r\n                      defaultValue={getuser.age}\r\n                      // value={user.age}\r\n                      onChange={this.onChangeAge}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group text-left\">\r\n                    <label>Email:</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      className=\"form-control\"\r\n                      defaultValue={getuser.email}\r\n                      onChange={this.onChangeEmail}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group text-left\">\r\n                    {/* <Link to={{ pathname: `/home` }}> */}\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => this.editUserDetails()}\r\n                      type=\"submit\"\r\n                    >\r\n                      Update\r\n                    </button>\r\n                    {/* </Link> */}\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            );\r\n          })}\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  console.log(\"state\", state);\r\n  return {\r\n    userData: state.users,\r\n    loadingData: state.loading,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchUser: (id) => dispatch(fetchUser(id)),\r\n    updateUsers: (id, user) => dispatch(updateUsers(id, user)),\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { fetchUser, updateUsers })(\r\n  UserContainerUpdate\r\n);\r\n// import React, { Component, useState, useEffect } from \"react\";\r\n// import { connect } from \"react-redux\";\r\n// import { fetchUser, updateUsers } from \"../redux\";\r\n// // import React from 'react'\r\n// import { useParams, useHistory, withRouter } from \"react-router-dom\";\r\n// import HeaderUser from \"./HeaderUser\";\r\n// // const location = useLocation();\r\n// const initialState = {\r\n//   name: \"\",\r\n//   age: \"\",\r\n//   email: \"\",\r\n// };\r\n// function UserContainerUpdate({ userData, fetchUser }, props) {\r\n//   const [user, setUser] = useState(initialState);\r\n//   const [users, setUsers] = useState([]);\r\n//   const { name, age, email } = user;\r\n//   const { id } = useParams();\r\n//   let history = useHistory();\r\n//   console.log(\r\n//     \"params DAta\",\r\n//     useParams(),\r\n//     userData,\r\n//     userData.name,\r\n//     userData.age,\r\n//     userData.email\r\n//   );\r\n//   useEffect(() => {\r\n//     fetchUser(id);\r\n//     // setUsers(userData);\r\n//     // console.log(\"user in useeffect\", users);\r\n//   }, []);\r\n\r\n//   console.log(\"params DAta\", useParams(), users, userData.age, userData.email);\r\n//   const onValueChange = (e) => {\r\n//     setUser({ ...user, [e.target.name]: e.target.value });\r\n//     console.log(\"user==>\", user.name, user.age, user.email);\r\n//   };\r\n\r\n//   console.log(\"out side update state\", id, name, age, email);\r\n\r\n//   console.log(\"user======>\", userData[0].name, users, user);\r\n//   const editUserDetails = (e) => {\r\n//     console.log(\"in else part\", user);\r\n//     console.log(\"users\", users);\r\n//     if (!user.name || !user.age || !user.email) {\r\n//       if (!user.name) {\r\n//         // const uname = users.name;\r\n//         user.name = userData[0].name;\r\n//         console.log(\"user name\", user.name);\r\n//       }\r\n//       if (!user.age) {\r\n//         // age = userData.map((user) => user.age);\r\n//         user.age = userData[0].age;\r\n//         console.log(\"user age\", user);\r\n//       }\r\n//       if (!email) {\r\n//         // email = userData.map((user) => user.email);\r\n//         user.email = userData[0].email;\r\n//         console.log(\"user in if \", user);\r\n//         updateUsers(id, user);\r\n//         history.push(\"/home\");\r\n//       }\r\n//     } else {\r\n//       console.log(\"in else part\", user);\r\n//       updateUsers(id, user);\r\n//       history.push(\"/home\");\r\n//     }\r\n//   };\r\n//   return (\r\n//     <div className=\"container \">\r\n//       <HeaderUser />\r\n//       {userData.map((getuser) => {\r\n//         return (\r\n//           <div key={getuser._id}>\r\n//             <form onSubmit={() => editUserDetails()}>\r\n//               <div className=\"form-group text-left\">\r\n//                 <label>Name:</label>\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   name=\"name\"\r\n//                   className=\"form-control\"\r\n//                   defaultValue={getuser.name}\r\n//                   // value={user.name}\r\n//                   onChange={onValueChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group text-left\">\r\n//                 <label>Age:</label>\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   name=\"age\"\r\n//                   className=\"form-control\"\r\n//                   defaultValue={getuser.age}\r\n//                   // value={user.age}\r\n//                   onChange={onValueChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group text-left\">\r\n//                 <label>Email:</label>\r\n//                 <input\r\n//                   type=\"email\"\r\n//                   name=\"email\"\r\n//                   className=\"form-control\"\r\n//                   defaultValue={getuser.email}\r\n//                   onChange={onValueChange}\r\n//                 />\r\n//               </div>\r\n//               <div className=\"form-group text-left\">\r\n//                 <button\r\n//                   className=\"btn btn-primary\"\r\n//                   // onClick={() => editUserDetails()}\r\n//                   type=\"submit\"\r\n//                 >\r\n//                   Update\r\n//                 </button>\r\n//               </div>\r\n//             </form>\r\n//           </div>\r\n//         );\r\n//       })}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const mapStateToProps = (state) => {\r\n//   console.log(\"state\", state);\r\n//   return {\r\n//     userData: state.users,\r\n//   };\r\n// };\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     fetchUser: (id) => dispatch(fetchUser(id)),\r\n//     updateUsers: (id, user) => dispatch(updateUsers(id, user)),\r\n//   };\r\n// };\r\n// export default connect(\r\n//   (state) => ({ userData: state.users, loadingData: state.loading }),\r\n//   mapDispatchToProps\r\n// )(UserContainerUpdate);\r\n"]},"metadata":{},"sourceType":"module"}